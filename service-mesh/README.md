即透明网络代理，新的独立层完全从业务逻辑中抽离，作为独立的运行单元，与业务不再直接紧密关联。通过在独立层的透明网络代理上实现负载均衡、服务发现、熔断、运行时动态路由等功能，该透明代理在业界有一个非常新颖时髦的名字：Service Mesh。率先使用这个Buzzword的产品恐怕非Buoyant的Linkerd（https://linkerd.io/）莫属了，随后Lyft也发布了他们的Service Mesh实现Envoy（https://github.com/envoyproxy/envoy），之后Istio（https://istio.io/）也迎面赶上，成为Service Mesh领域非常热门的一个项目

严格说来，Service Mesh并不在K8S核心的范围之内。但是，在K8S的帮助下，应用上云后，还面临着服务治理的难题。现在大多数云原生的应用都是微服务架构，微服务的注册，服务之间的相互调用关系，服务异常后的熔断、降级，调用链的跟踪、分析等待一系列现实问题摆在各机构面前。Service Mesh（服务网络）就是解决这类微服务发现和治理问题的一个概念。在我看来，Service Mesh之于微服务架构就像TCP协议之于web应用。我们大部分人写web应用，关心的是RESTful，HTTP等上层协议，很少需要我们自己操心网络报文超时重传、分割组装、内容校验等底层细节。正是因为有了Service Mesh，企业在云原生和微服务架构的实践道路上只需根据自己业务做适当的微服务拆分即可，无需过多关注底层服务发现和治理的复杂度。而Istio的出现，使得有些“学院派”的Service Mesh概念真正得到了落地，并且提供了真正可供操作、非侵入式的方案，让诸如Spring Cloud，Dubbo这些“老古董”第一次有了被淘汰的危机感。

---

至今微服务已经历了两代发展，第一代以Spring Cloud为代表的微服务开发框架，该框架在微服务发展的前几年一度独领风骚，甚至在部分人群中成为微服务的代名词，但事实上该微服务框架并不是唯一实现微服务的方式；第二代微服务技术为服务网格（Service Mesh），它的出现解决了大部分开发人员在使用Spring Cloud中遇到的不足和痛点。

sidecar：一种单节点、多容器的应用设计形式。sidecar主张以额外的容器来扩展或增强主容器，而这个额外的容器被称为sidecar容器。

其中所有的微服务都和Envoy sidecar集成在一起，所有服务的出入流量都被Envoy劫持，这样Istio的控制平面就可以为应用提供服务路由、遥测数据收集以及策略实施等内容。

Istio相比于Spring Cloud的几个优点。首先相比于Spring Cloud学习组件内容多，门槛高的痛点，Istio是非常容易上手的，只需在Kubernetes平台上跑一个yaml文件即可完成部署；再者相比于Spring Cloud需要把认证授权、分布式追踪、监控等这些高级功能加入到应用程序内部导致了应用本身复杂度的痛点，反观Istio是很轻量级的，它将以上那些高级功能作为组件内置在Istio中，从而达到了对应用程序的无侵入性，只需要配置相应的yaml文件并下发至Istio控制平面执行后续的操作即可，操作过程用户是无感知的；最后相比于Spring Cloud对Java环境的过度依赖以及跨语言痛点，Istio也完美的解决了，其支持多种语言，包括新兴编程语言Golang、Rust、Node.js、R语言等。